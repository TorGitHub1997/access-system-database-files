create or replace function UpdateUser(cardid char, cardpin char, email varchar, firstname varchar, lastname varchar, PreviousCardId char(4),
                                        validend timestamp, validstart timestamp)
returns bool as
$$
begin
        update userdata
        set
                first_name = firstname,
                last_name = lastname,
                email_address = email,
                card_id = cardid,
                card_pin = cardpin,
                valid_start = validstart,
                valid_end = validend
        where card_id = PreviousCardId;
        if found then
                return 1;
        else
                return 0;
        end if;
end
$$
language plpgsql;
